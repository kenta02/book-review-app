# ========================================
# npm セキュリティ設定ファイル
# ========================================
# 用途: Shai-Hulud などのサプライチェーン攻撃対策
# 設定説明: docs/セキュリティ対策/security.md を参照

# ========================================
# 脆弱性対策（最重要）
# ========================================

# 脆弱性レベルの監視
# moderate/high/critical のいずれかで監視
audit-level=moderate

# ========================================
# レジストリ設定（詐欺対策）
# ========================================

# 公式 NPM レジストリを明示的に指定
# これにより typosquatting（綴り間違いパッケージ）対策になる
registry=https://registry.npmjs.org/

# スコープ付きパッケージの明示的設定
@types:registry=https://registry.npmjs.org/

# ========================================
# SSL/TLS 検証（通信安全性確保）
# ========================================

# SSL 証明書の厳格検証（重要）
# false にすると自己署名証明書を受け入れてしまい、中間者攻撃の対象に
strict-ssl=true

# ========================================
# インストール動作設定
# ========================================

# オプション依存関係をスキップ（npm v7+）
# optional=false は非推奨 → --omit=optional を使用
omit=optional

# ピア依存関係の警告を表示
legacy-peer-deps=false

# ========================================
# ネットワーク設定
# ========================================

# タイムアウト設定（遅いネットワーク対策）
fetch-timeout=60000

# ========================================
# 表示設定
# ========================================

# 更新通知の無効化（開発環境）
update-notifier=false

# 募金・寄付情報の表示を無効化
fund=false

# 進捗表示
progress=true

# ログレベル（warn/error/silent/verbose）
loglevel=warn

# ========================================
# 監査設定
# ========================================

# 自動監査の有効化
audit=true

# ========================================
# 参考コマンド
# ========================================
# npm audit fix  - 脆弱性の自動修正
# npm audit      - 脆弱性チェック
# npm ci         - lock ファイルから正確にインストール
# npm install    - package.json から柔軟にインストール

